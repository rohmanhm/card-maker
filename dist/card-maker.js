/*!
 * 
 *   Copyright (c) 2017 - present Habib Rohman (https://github.com/rohmanhm).
 *   All rights reserved.
 * 
 *   Licensed Under Apache License 2.0 (https://www.apache.org/licenses/LICENSE-2.0)
 * 
 *   Card Maker @0.0.7
 *   
 */
!function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t=window.webpackJsonp;window.webpackJsonp=function(r,a,i){for(var f,u,l,c=0,d=[];c<r.length;c++)u=r[c],o[u]&&d.push(o[u][0]),o[u]=0;for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f]);for(t&&t(r,a,i);d.length;)d.shift()();if(i)for(c=0;c<i.length;c++)l=n(n.s=i[c]);return l};var r={},o={2:0,1:0};return n.e=function(e){function t(){a.onerror=a.onload=null,clearTimeout(i);var n=o[e];0!==n&&(n&&n[1](new Error("Loading chunk "+e+" failed.")),o[e]=void 0)}if(0===o[e])return Promise.resolve();if(o[e])return o[e][2];var r=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,n.nc&&a.setAttribute("nonce",n.nc),a.src=n.p+""+e+".js";var i=setTimeout(t,12e4);a.onerror=a.onload=t;var f=new Promise(function(n,t){o[e]=[n,t]});return o[e][2]=f,r.appendChild(a),f},n.m=e,n.c=r,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n.oe=function(e){throw console.error(e),e},n(n.s=59)}([,function(e,n,t){function r(e,n){return o(e)?e:a(e,n)?[e]:i(f(e))}var o=t(4),a=t(44),i=t(46),f=t(54);e.exports=r},,function(e,n){function t(e){return e}e.exports=t},function(e,n){var t=Array.isArray;e.exports=t},,,,,,function(e,n){function t(e,n){return n=null==n?r:n,!!n&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<n}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=t},,function(e,n,t){(function(n){e.exports=n.CardMaker=t(30)}).call(n,t(56))},,,,,,,,,,,,,,,,,,function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,f=e[Symbol.iterator]();!(r=(i=f.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&f.return&&f.return()}finally{if(o)throw a}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=t(53),l=r(u),c=t(32);t(31);var d=new WeakMap,s=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.__name__=c.packageConfig.name,this.__version__=c.packageConfig.version,d.set(this,{align:"left",background:void 0,canvas:void 0,color:"black",download:"",el:"#cardmaker",enableSetToElement:!0,width:400,height:250,template:{},streamElemTemplate:!0}),this.setConfig(n),this.putCanvas(),this.render(),this.enableDownload()}return f(e,[{key:"changeBackground",value:function(e,n){var t=this.getConfig(["width","height"]),r=this.getContext(),o=n.img,a=n.color;switch(r.beginPath(),e){case"image":if(void 0==o)throw new Error("Make sure you set the background image");r.drawImage(o,0,0,t.width,t.height);break;case"color":if(void 0==a)throw new Error("Make sure you set the background color");r.fillStyle=a,r.rect(0,0,t.width,t.height),r.fill()}return r.closePath(),r}},{key:"enableDownload",value:function(){var e=this,n=this.getConfig("download");if(n.length>0){var t=document.querySelector(n);if(!t)throw new Error("Element "+n+" can't found in your DOM. Please check again, maybe you make a typo");t.addEventListener("click",function(n){n.preventDefault(),window.location.href=e.getImage()})}}},{key:"getConfig",value:function(e){var n=d.get(this);if(!e)return n;if("object"==("undefined"==typeof e?"undefined":i(e))){for(var t={},r=0;r<e.length;r++)t[e[r]]=n[e[r]];return t}if("string"==typeof e){if(""==n[e])throw new Error("Config with key '"+e+"' undefined, please check your key again");return n[e]}}},{key:"getContext",value:function(){if(this.getConfig("canvas"))return this.getConfig("canvas").getContext("2d")}},{key:"getImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jpeg",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.getConfig("canvas").toDataURL("image/"+e,n)}},{key:"makeCanvas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0!=this.getConfig("canvas"))throw new Error("Cannot create canvas, You've already set the canvas");var n=(0,c.makeElement)("canvas",e);return this.setConfig("canvas",n),n}},{key:"putCanvas",value:function(){var e=this.getConfig(["el","width","height"]),n=void 0,t=void 0;if(t=this.makeCanvas({width:e.width,height:e.height}),n=document.querySelector(e.el),null===n||void 0===n)throw new Error("Cannot find "+n+" element in your DOM");return n.appendChild(t)}},{key:"render",value:function(){var e=this,n=this.getConfig(["background","template","streamElemTemplate"]);!n.background&&n.template.background.length>0&&this.setConfig("background",n.template.background);var t=[this.renderBackground()];return Promise.all(t).then(function(){return e.renderImage()}).then(function(){return e.renderText()}).then(function(){n.streamElemTemplate&&e.streamElemTemplate()})}},{key:"renderBackground",value:function(){var e=this,n=this.getConfig("background");return(0,c.isColor)(n)?this.changeBackground("color",{color:n}):void 0!=n&&""!=n?(0,c.makeImage)(n).then(function(n){return e.changeBackground("image",{img:n})}):(console.warn("You don't specified background image or color, so .. we give you black background"),this.changeBackground("color",{color:(0,c.colorNameToHex)("black")}))}},{key:"renderImage",value:function(){var e=this,n=this.getConfig("template").images;return Promise.each(n,function(n){return(0,c.makeImage)(n.value).then(function(t){var r=e.getContext(),o=(n.name,n.value,n.description,n.props),a=o.sx,i=o.sy,f=o.swidth,u=o.sheight,l=o.x,c=o.y,d=o.width,s=o.height;setTimeout(function(){e.setToElement(n.name,n.value,n.description),r.drawImage(t,a||0,i||0,f||t.width,u||t.height,l||0,c||0,d||t.width,s||t.height)},1)})}).then(function(){return!0})}},{key:"renderText",value:function(){var e=this,n=this.getConfig("template").text;return Promise.each(n,function(n,t){setTimeout(function(){e.setToElement(n.name,n.value,n.description),e.writeText(n.value,n.props)},1)})}},{key:"setConfig",value:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=this.getConfig();if(!n)return!1;if("object"==i(n[0])){var o=n[0],f=[],u=!0,l=!1,c=void 0;try{for(var d,s=Object.entries(o)[Symbol.iterator]();!(u=(d=s.next()).done);u=!0){var h=a(d.value,2),g=h[0],m=h[1];r[g]=m,f.push(g)}}catch(e){l=!0,c=e}finally{try{!u&&s.return&&s.return()}finally{if(l)throw c}}return this.getConfig(f)}return r[n[0]]=n[1],this.getConfig([n[0]])}},{key:"streamElemTemplate",value:function(){var e=this.getConfig("template"),n=(0,l.default)(e,["images","text"]);for(var t in n)n[t].forEach(function(e){var n=document.querySelector("[name="+e.name+"]");return!!n&&void n.addEventListener("keyup",function(n){var t=n.target.value;e.value=t})})}},{key:"setToElement",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.getConfig("enableSetToElement");if(!r)return!1;var o=document.querySelector("[name="+e+"]");return!!o&&(o.setAttribute("placeholder",t),o.value=n)}},{key:"writeText",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=this.getContext(),r=this.getConfig(["color","align"]);""!=e&&void 0!=e||console.warn("We've found you insert an empty text, please make sure you make it valuable.");var o=n.align,a=n.color,i=n.family,f=n.size,u=n.x,l=n.y;return t.fillStyle=a||r.color,t.textAlign=o||r.align,t.font=(f||20)+"px "+(i||"Arial"),t.fillText(e,u||0,l||0),t}}]),e}();n.default=s,e.exports=n.default},function(e,n,t){"use strict";Promise.each=function(e,n){return e&&e.length?0===e.length?Promise.resolve():e.reduce(function(e,t){return e.then(function(){return n(t)})},Promise.resolve()):Promise.reject(new Error("Non array passed to each"))}},function(e,n,t){"use strict";function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=document.createElement(e);for(var r in n)t[r]=n[r];return t}function o(e){return u(e,{method:"GET",headers:new Headers,mode:"cors",cache:"default"}).then(function(n){return new Promise(function(t,r){var o=new Image;o.onload=function(){t(o)},o.onerror=function(){r(e+" can't load")},o.src=n})})}function a(e){var n=e?e.toLowerCase():"",t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"undefined"!=typeof t[n]&&t[n]}function i(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function f(e){if(!i(e)){var n=a(e);if(!i(n))return!1}return!0}function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,n).then(function(e){return e.blob()}).then(function(e){return new Promise(function(n,t){var r=new FileReader;r.onloadend=function(){n(r.result)},r.onerror=t,r.readAsDataURL(e)})})}Object.defineProperty(n,"__esModule",{value:!0}),n.makeElement=r,n.makeImage=o,n.colorNameToHex=a,n.checkHex=i,n.isColor=f,n.toDataURL=u,n.packageConfig=t(57)},function(e,n,t){function r(e,n,t){var r=e[n];f.call(e,n)&&a(r,t)&&(void 0!==t||n in e)||o(e,n,t)}var o=t(34),a=t(47),i=Object.prototype,f=i.hasOwnProperty;e.exports=r},function(e,n,t){function r(e,n,t){"__proto__"==n&&o?o(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}var o=t(40);e.exports=r},function(e,n,t){function r(e,n){n=o(n,e);for(var t=0,r=n.length;null!=e&&t<r;)e=e[a(n[t++])];return t&&t==r?e:void 0}var o=t(1),a=t(3);e.exports=r},function(e,n){function t(e,n){return null!=e&&n in Object(e)}e.exports=t},function(e,n,t){function r(e,n){return o(e,n,function(n,t){return a(e,t)})}var o=t(38),a=t(48);e.exports=r},function(e,n,t){function r(e,n,t){for(var r=-1,f=n.length,u={};++r<f;){var l=n[r],c=o(e,l);t(c,l)&&a(u,i(l,e),c)}return u}var o=t(35),a=t(39),i=t(1);e.exports=r},function(e,n,t){function r(e,n,t,r){if(!f(e))return e;n=a(n,e);for(var l=-1,c=n.length,d=c-1,s=e;null!=s&&++l<c;){var h=u(n[l]),g=t;if(l!=d){var m=s[h];g=r?r(m,h,s):void 0,void 0===g&&(g=f(m)?m:i(n[l+1])?[]:{})}o(s,h,g),s=s[h]}return e}var o=t(33),a=t(1),i=t(10),f=t(51),u=t(3);e.exports=r},function(e,n,t){var r=t(42),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,n){function t(e){return e}e.exports=t},function(e,n){function t(e,n){return null==e?void 0:e[n]}e.exports=t},function(e,n,t){function r(e,n,t){n=o(n,e);for(var r=-1,c=n.length,d=!1;++r<c;){var s=l(n[r]);if(!(d=null!=e&&t(e,s)))break;e=e[s]}return d||++r!=c?d:(c=null==e?0:e.length,!!c&&u(c)&&f(s,c)&&(i(e)||a(e)))}var o=t(1),a=t(49),i=t(4),f=t(10),u=t(50),l=t(3);e.exports=r},function(e,n,t){function r(e,n){if(o(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!a(e))||f.test(e)||!i.test(e)||null!=n&&e in Object(n)}var o=t(4),a=t(52),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;e.exports=r},function(e,n){function t(e){return e}e.exports=t},function(e,n,t){var r=t(45),o=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,f=r(function(e){var n=[];return o.test(e)&&n.push(""),e.replace(a,function(e,t,r,o){n.push(r?o.replace(i,"$1"):t||e)}),n});e.exports=f},function(e,n){function t(e,n){return e===n||e!==e&&n!==n}e.exports=t},function(e,n,t){function r(e,n){return null!=e&&a(e,n,o)}var o=t(36),a=t(43);e.exports=r},function(e,n){function t(){return!1}e.exports=t},function(e,n){function t(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=t},function(e,n){function t(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}e.exports=t},function(e,n){function t(){return!1}e.exports=t},function(e,n,t){var r=t(37),o=t(41),a=o(function(e,n){return null==e?{}:r(e,n)});e.exports=a},function(e,n){function t(e){return e}e.exports=t},,function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n){e.exports={name:"card-maker",libraryName:"CardMaker",version:"0.0.7",description:"Making card simple using JSON",main:"./dist/card-maker.js",keywords:["card","maker","canvas"],repository:{type:"git",url:"git@github.com:rohmanhm/card-maker"},bugs:{url:"https://github.com/rohmanhm/card-maker/issues"},homepage:"https://github.com/rohmanhm/card-maker#readme",scripts:{dev:"rm -rf dist index.html && NODE_ENV=development ./node_modules/.bin/babel-node webpack/webpack-dev-server",deploy:"rm -rf dist index.html && NODE_ENV=production ./node_modules/.bin/webpack -p --config=webpack/webpack.config.js --env.dev=false"},author:{name:"Habib Rohman",email:"mhrohman@live.com",url:"https://github.com/rohmanhm"},license:"Apache-2.0",devDependencies:{"babel-cli":"^6.23.0","babel-core":"^6.22.1","babel-loader":"^6.2.10","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-lodash":"^3.2.11","babel-plugin-transform-object-rest-spread":"^6.23.0","babel-polyfill":"^6.23.0","babel-preset-latest":"^6.16.0","babel-preset-stage-0":"^6.16.0","copy-webpack-plugin":"^4.0.1","expose-loader":"^0.7.3","html-webpack-plugin":"^2.28.0","lodash-webpack-plugin":"^0.11.2",rimraf:"^2.6.0",webpack:"^2.2.1","webpack-dev-server":"^2.3.0"},dependencies:{axios:"^0.15.3","force-boolean":"^0.0.1",lodash:"^4.17.4"}}},,function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(12),a=r(o);n.default=a.default,e.exports=n.default}]);